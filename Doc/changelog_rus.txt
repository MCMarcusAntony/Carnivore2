Changelog for Carnifore2 MultiFunctional Cartridge
Copyright (c) 2017-2019 by RBSC
Русская версия
--------------------------------------------------

31.03.2019

1. В бутблок добавлен экран для настройки интерфейса, который вызывается кнопкой "S". Пользователь может
   включить или отключить сортировку записей в меню, включить/отключить плавные переходы цветов между
   экранами интерфейса, регулировать скорость обработки клавиатуры и джойстика, а также настраивать
   цвета шрифта и фона во всех экранах бутблока (на MSX2 и более поздних компьютерах). Пользователь
   также может восстановить оригинальные настройки нажав всего одну клавишу. Настройки сохраняюся в
   конфигурационном ППЗУ

2. Клавиша F3 при старте бутблока позволяет загрузить оригинальные настройки интерфейса, но не стирает эти
   настройки в конфигурационном ППЗУ. Эта опция может использоваться если настройки, установленные пользователем
   не позволяют нормально работать с бутблоком

3. Утилиты C2MAN, C2MAN40, C2RAMLDR, C2SRAM и C2BACKUP автоматически добавляют расширение для имён файлов данных
   или ROM файла если пользователь не указал его при вводе имени файла

4. Утилиты C2MAN, C2MAN40 и C2RAMLDR теперь корректно находят удалённые записи директории для их дальнейшего
   использования. Также поправлена оптимизация директории

5. Утилиты C2MAN и C2MAN40 были оптимизированы, чтобы сократить их размер. Теперь они свободно помещаются в
   ОЗУ загруженной MSX-DOS2

6. Новая утилита C2CFGBCK позволяет сохранять и восстанавливать данные из конфигурационного EEPROM чипа

7. Утилита C2BACKUP спрашивает пользователя сохранить ли текущий бут блок или нет. Если пользователь отвечает
   положительно, то текущий бут блок в картридже не перезаписывается на тот, который сохранён в файле бэкапа

8. Добавлена утилита C2IDETST для тестирования IDE контроллера. Утилита выполняет в цикле 16384 операций
   чтения/записи и выдаёт результат операции как passed/failed. В конце теста утилита выдаёт статистику
   выполнения теста


30.09.2018

1. Встроенные кнопки джойстика на компьютерах Casio's теперь позволяют отменить автостарт


22.09.2018

1. Интерфейс бутблока теперь поддерживает управление джойпадами или джойстиками, подключёнными к любому из
   двух джойстик-портов. Джойстик позволяет управлять курсором в основном меню, запускать игры и
   конфигурационные записи, а также может отменять автостарт выбранной записи

2. В бутблок добавлен второй экран помощи с описанием управления джойстиком. Также сообщение, которое
   выводится при автостарте теперь указывает на возможность его отмены джойстиком


14.06.2018 (необходимо обновление прошивки)

1. Эмуляция PSG была значительно улучшена, теперь звучание очень близко к тому, что выдаёт оригинальный чип

2. Все утилиты теперь корректно работают под MSX-DOS версии 1.xx; утилита C2MAN_40.COM переименована
   в C2MAN40.COM для совместимости со старыми версиями DOS

3. Утилиты C2MAN и C2MAN40 теперь компилируются из одного исходника, детектирование VDP и типа MSX
   позволяет устанавливать оптимальный режим экрана; улучшен интерфейс, оптимизирован код

4. В поддиректории \Util\special находятся специальные версии утилит C2MAN и C2MAN40, редакторы
   которых работают на корейских и арабских MSX без сдвига экрана вверх

5. Утилита C2BACKUP записывает данные во FlashROM на 35% быстрее; поправлена ошибка со счётчиком

6. Поправлены фильтры SCC и PSG, качество звучания значительно улучшилось

7. В прошивку Альтеры добавлена функция аппаратного перехвата старта ROM, но она пока не используется
   в бутблоке

8. Утилиты C2BACKUP и C2SRAM поддерживают опцию /r - рестарт системы после завершения операции


10.05.2018

1. Утилиты и бутблок теперь работают на Daewoo, а также на арабских MSX

2. Добавлена новая утилита - C2BACKUP: она позволяет считывать и записывать полный образ FlashROM чипа


06.05.2018

1. Исправлен баг при выводе помощи у всех утилит

2. В утилиты C2MAN и C2MAN_40 добавлена функция рестарта системы (в основном меню)


29.04.2018 (рекомендуется обновление прошивки)

1. Добавлено переключение Z80/R800 режимов для Turbo-R компьютеров клавишей 'T'

2. Добавлено переключение в Turbo режим на компьютерах Panasonic MSX2+ клавишей 'T'

3. Добавлена индикация Z80/Turbo/R800 режима в статусную строку

4. Частота тактирования CF карты теперь не зависит от частоты процессора, так что IDE будет корректно
   работать на частотах выше стандартной. Также были исправлены несколько несущественных ошибок в прошивке

5. Частота VDP, выбранная в бутблоке и/или режим Turbo/R800 восстанавливается для ROM'a после ресета

6. В документации поправлено описание регистра PosSiz, а также описана работа режимов Turbo/R800

7. Если найден RCP файл, совпадающий по имени с загружаемым ROM файлом, то утилиты C2MAN, C2MAN40 и
   C2RAMLDR спрашивают надо ли загружать данные из RCP файла. В автоматическом режиме данные из RCP
   файла будут загружены автоматически

8. Утилита C2RAMLDR может перезагрузить компьютер по желанию пользователя или автоматически после записи
   ROM файла в ОЗУ если в командной строке присутствует ключ /r ; добавлена функция рестарта в меню

9. После записи IDE и FMPAC БИОСов в картридж больше нет проблем в работе с директорией. Раньше вместо
   директории выводился мусор из-за неправильной конфигурации картрижда после записи БИОСов

10. Добавлено несколько RCP файлов


03.02.2018

1. Поправлена ошибка в запросе на удаление записи директории в утилитах C2MAN и C2MAN_40

2. Добавлены несколько RCP файлов


03.01.2018

1. Поправлена ошибка в конфигурации Konami 4 маппера


30.12.2017

1. Утилиты C2MAN, C2MAN_40, C2RAMLDR и C2SRAM принимают команды независимо от регистра клавиатуры


26.12.2017

1. Немного улучшенны шрифт и индикаторы громкости в бутблоке

2. Улучшенные пресеты DSK2ROM и LIFEMARS


16.12.2017

1. Поправлена ошибка в утилитах C2MAN, C2MAN_40 и C2RAMLDR - если в одном регистре выставлятся флаг
   перезагрузки, то в другом регистре этот флаг раньше не выставлялся, что приводило к конфликту

2. Улучшен ширифт для бут блока, несколько символов изменены, добавлены горизонтальные линии под названиями
   экранов


05.12.2017 (необходимо обновление прошивки)

1. Исправлена ошибка в утилитах C2MAN, C2MAN_40 and C2RAMLDR. Теперь файлы со всеми возможными атрибутами
   открываются и читаются корректно

2. В прошивку добавлена возможность включения и выключения внутренней эмуляции устройств PSG и PPI Clicker,
   а также возможность раздельной регулировки их громкости

3. В бут блок добавлен экран с возможностью раздельного включения/выключения эмуляции PSG и PPI Clicker, а
   также регуляторы громкости для обоих устройств

4. Бутблок теперь также доступен в красной цветовой гамме


16.11.2017

1. Если включён режим автостарта для любой записи в директории, то выводится сообщение и ожидается нажатие
   клавиш в течение 3 секунд. Если нажаты ESC, TAB или F4, то автозапуска не происходит и выводится 
   основное меню

2. Теперь активировать выбранную запись можно также клавишей Enter

3. Более не нужно нажимать Shift для управления функциями в бут блоке. Воспринимаются все символы, независимо
   от их регистра

4. Экран помощи был обновлён (изменён список клавиш), также показывается текущая версия бут блока - спасибо
   8bits4ever за идею!

5. Пофиксен баг: конфигурационные записи больше нельзя активировать клавишей G или g

6. Пофиксен баг: утилита C2RAMLDR выводила не то сообщение об ошибке если происходил сбой при загрузке файла
   в ОЗУ картриджа

7. Утилита C2RAMLDR больше не использует "R" в поле маппера для записей "RAM: name", теперь туда копируется
   детектированный или указанный вручную тип маппера

8. Утилита C2RAMLDR теперь позволяет не создавать запись в директории для загружаемого файла при использовании
   опции /D ; также можно отказаться от создания директории в интерактивном режиме

9. Добавлена утилита C2SRAM, которая позволяет записывать и считывать 8кб эмулируемого SRAM для FMPAC


04.11.2017

1. Полностью убран курсор (спасибо Grauw и Nyyrikki), символы мапперов сделаны покрасивее, чуть поменялись 
   скрины помощи и установки громкости (добавлена строка внизу экрана)

2. Добавлена установка 40 символьного режима для утилиты C2MAN_40. Для утилиты C2MAN добавлено детектирование
   VDP и вывод сообщения о несовместимости с 40 символьным режимом если командная строка пуста


03.11.2017

1. Поправлен шрифт, чтобы нижняя полоса не сливалась со статусной строкой. Добавлен значок копирайта в шрифт.
   Добавлены другие дополнительные символы, например символы клавиш H и V, а также изменён курсор

2. Цвета и палитры меню, экрана помощи и установки громкости выведены отдельными переменными и теперь можно
   легко компилировать бут блок с любой цветовой гаммой

3. Сделана попытка убрать курсор. Также убран звук кликания клавиш

4. Добавлены цвета в экранах MSX1, подобные тем, что выводятся на MSX2


22.10.2017

1. Поправлена схема. Номера транзисторов Т3-Т6 были указаны неправильно.


02.10.2017

1. Добавлена возможность переключения частоты VDP 50/60 Гц с помощью клавиши 'F' в основном меню.
   Значение сохраняется в ППЗУ

2. Внизу экрана выводится строка с информацией о текущей частоте VDP, громкости FMPAC и SCC, а также информация
   о страницах (текущая/всего)


13.09.2017 (необходимо обновление прошивки)

1. Добавлен функционал сохранения значения громкости FMPAC и SCC в ППЗУ на плате картриджа


02.09.2017 (необходимо обновление прошивки)

1. Улучшен вывод на DAC, FMPAC играет громче и чище

2. Добавлена возможность регулировать громкость FMPAC и SCC раздельно из бутблока

   Управляющий громкостью регист расположен по адресу 0x4FA2. Старшие 2 бита не используются. Биты 3,4,5
   отвечают за громкость FMPAC, биты 0,1,2 отвечают за громкость SCC/SCC+

3. Добавлена поддержка SCC+

4. Поправлен баг с видеоэффектами на MSX1. Палитровые эффекты на видеопроцессорах v9928 (и ранних) деактивируются


10.02.2017 (необходимо обновление прошивки)

1. В запись директории добавлен регистр конфигурации расширений слота. Теперь если записывать неправильное значение
   типа 0xxx1111 (0Fh), то старое значение регистра менятся не будет

2. Теперь все регистры конфигурации картриджа читаются своими значениями по месту прописки (4F80-4FA1). Это сделано
   преимущественно для удобства отладки в дебагере. Можно запретить чтение этих регистров установив в главном
   управляющем регистре CardMDR (4F80) значение нулевого бита в единицу xxxxxxx1. В таком случае на этом участке
   памяти будет читаться то что задано другими параметрами (обычно страница ROM)


03.02.2017 (необходимо обновление прошивки)

1. Добавлена работа расширенного слота. Подробности смотрите в файле документации
